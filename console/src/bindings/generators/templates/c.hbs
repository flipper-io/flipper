#include <flipper.h>

extern unsigned char {{name}}_bin[];
extern unsigned {{name}}_bin_len;

LF_MODULE(_{{name}}, "{{name}}", "{{description}}", &{{name}}_bin, &{{name}}_bin_len);

enum {
    {{#each funcs}}_{{name}},{{/each}}
};

{{#each funcs}}
{{ret}} {{name}}({{param_expansion params}}) {
    return lf_invoke(&_{{../name}}, _{{name}}, {{ret_fmr}}, fmr_args({{fmr_expansion params}}));
}
{{/each}}

const struct _{{name}}_jumptable {
    {{#each funcs}}{{ret}} (* {{name}})({{param_expansion params}});{{/each}}
} {{name}}_jumptable = {
    {{#each funcs}}{{name}},
    {{/each}}
};

